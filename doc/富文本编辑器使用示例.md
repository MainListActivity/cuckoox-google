# å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä½¿ç”¨ç¤ºä¾‹

## æ¦‚è¿°

æ–°çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨é‡‡ç”¨Googleæ–‡æ¡£é£æ ¼çš„UIè®¾è®¡ï¼Œå…·å¤‡ä»¥ä¸‹ç‰¹æ€§ï¼š

- ğŸ“ ç°ä»£åŒ–çš„Googleæ–‡æ¡£é£æ ¼ç•Œé¢
- ğŸ“‹ æ‚¬æµ®çš„ä¸Šä¸‹æ–‡ä¿¡æ¯é¢æ¿
- ğŸ–¥ï¸ å…¨å±ç¼–è¾‘æ¨¡å¼
- ğŸ¤ å®æ—¶åä½œç¼–è¾‘
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨è®¾å¤‡

## åŸºæœ¬ç”¨æ³•

### 1. ç®€å•æ–‡æœ¬ç¼–è¾‘

```tsx
import { FullscreenRichTextEditor } from '@/src/components/FullscreenRichTextEditor';
import { QuillDelta } from '@/src/components/RichTextEditor';
import { useState } from 'react';

const SimpleEditor = () => {
  const [content, setContent] = useState<QuillDelta>(new Delta());

  return (
    <FullscreenRichTextEditor
      value={content}
      onChange={setContent}
      placeholder="è¯·è¾“å…¥å†…å®¹..."
    />
  );
};
```

### 2. å¸¦ä¸Šä¸‹æ–‡ä¿¡æ¯çš„ç¼–è¾‘å™¨

```tsx
import { FullscreenRichTextEditor } from '@/src/components/FullscreenRichTextEditor';
import { mdiAccount, mdiCalendar, mdiCurrencyUsd } from '@mdi/js';

const CaseEditor = ({ caseData }) => {
  const [content, setContent] = useState<QuillDelta>(new Delta());

  const contextInfo = {
    title: `æ¡ˆä»¶ ${caseData.case_number}`,
    subtitle: caseData.case_name,
    avatar: {
      text: 'æ¡ˆ',
      color: '#1976d2'
    },
    details: [
      {
        label: 'è´Ÿè´£äºº',
        value: caseData.responsible_person,
        icon: mdiAccount
      },
      {
        label: 'ç«‹æ¡ˆæ—¶é—´',
        value: caseData.acceptance_date,
        icon: mdiCalendar
      },
      {
        label: 'æ¡ˆä»¶çŠ¶æ€',
        value: caseData.process_stage,
        icon: 'M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,16.5L6.5,12L7.91,10.59L11,13.67L16.59,8.09L18,9.5L11,16.5Z'
      }
    ]
  };

  return (
    <FullscreenRichTextEditor
      value={content}
      onChange={setContent}
      contextInfo={contextInfo}
      documentId={`case-${caseData.id}`}
      userId={currentUser.id}
      userName={currentUser.name}
    />
  );
};
```

### 3. å€ºæƒç”³æŠ¥ç¼–è¾‘å™¨

```tsx
const ClaimEditor = ({ claimData }) => {
  const [content, setContent] = useState<QuillDelta>(new Delta());

  const contextInfo = {
    title: `å€ºæƒç”³æŠ¥ - ${claimData.id}`,
    subtitle: 'é™„ä»¶ææ–™ç¼–è¾‘',
    avatar: {
      text: 'å€º',
      color: '#2e7d32'
    },
    details: [
      {
        label: 'ç”³æŠ¥é‡‘é¢',
        value: claimData.totalAmount,
        icon: mdiCurrencyUsd
      },
      {
        label: 'å€ºæƒæ€§è´¨',
        value: claimData.nature,
        icon: 'M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,16.5L6.5,12L7.91,10.59L11,13.67L16.59,8.09L18,9.5L11,16.5Z'
      },
      {
        label: 'ç”³æŠ¥æ—¶é—´',
        value: new Date().toLocaleDateString('zh-CN'),
        icon: mdiCalendar
      }
    ]
  };

  return (
    <FullscreenRichTextEditor
      value={content}
      onChange={setContent}
      contextInfo={contextInfo}
      documentId={`claim-attachment-${claimData.id}`}
      userId={currentUser.id}
      userName={currentUser.name}
      onFullscreenChange={(isFullscreen) => {
        console.log('å…¨å±çŠ¶æ€å˜åŒ–:', isFullscreen);
      }}
    />
  );
};
```

### 4. åªè¯»æ¨¡å¼

```tsx
const ReadOnlyEditor = ({ documentContent }) => {
  return (
    <FullscreenRichTextEditor
      value={documentContent}
      readOnly={true}
      contextInfo={{
        title: 'æŸ¥çœ‹æ–‡æ¡£',
        subtitle: 'åªè¯»æ¨¡å¼',
        details: [
          {
            label: 'æœ€åä¿®æ”¹',
            value: '2024-01-01 12:00:00',
            icon: mdiCalendar
          }
        ]
      }}
    />
  );
};
```

## å…¨å±æ¨¡å¼é›†æˆ

å¯¹äºéœ€è¦å æ»¡æ•´ä¸ªé¡µé¢çš„åœºæ™¯ï¼Œå¯ä»¥ä½¿ç”¨å…¨å±æ¨¡å¼ï¼š

```tsx
const FullscreenPage = () => {
  const [isFullscreen, setIsFullscreen] = useState(false);

  useEffect(() => {
    // å½“ç»„ä»¶æŒ‚è½½æ—¶ï¼Œè‡ªåŠ¨è¿›å…¥å…¨å±æ¨¡å¼
    setIsFullscreen(true);
  }, []);

  return (
    <div style={{ height: '100vh' }}>
      <FullscreenRichTextEditor
        value={content}
        onChange={setContent}
        initialFullscreen={isFullscreen}
        onFullscreenChange={setIsFullscreen}
        contextInfo={contextInfo}
      />
    </div>
  );
};
```

## API å‚è€ƒ

### FullscreenRichTextEditor Props

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |
|------|------|--------|------|
| `value` | `QuillDelta \| string` | - | ç¼–è¾‘å™¨å†…å®¹ |
| `onChange` | `(delta: QuillDelta) => void` | - | å†…å®¹å˜åŒ–å›è°ƒ |
| `contextInfo` | `ContextInfo` | - | ä¸Šä¸‹æ–‡ä¿¡æ¯é…ç½® |
| `documentId` | `string` | - | æ–‡æ¡£IDï¼Œç”¨äºåä½œç¼–è¾‘ |
| `userId` | `string` | - | ç”¨æˆ·IDï¼Œç”¨äºåä½œç¼–è¾‘ |
| `userName` | `string` | - | ç”¨æˆ·åï¼Œç”¨äºåä½œç¼–è¾‘ |
| `readOnly` | `boolean` | `false` | æ˜¯å¦åªè¯» |
| `placeholder` | `string` | - | å ä½æ–‡æœ¬ |
| `initialFullscreen` | `boolean` | `false` | åˆå§‹æ˜¯å¦å…¨å± |
| `onFullscreenChange` | `(isFullscreen: boolean) => void` | - | å…¨å±çŠ¶æ€å˜åŒ–å›è°ƒ |

### ContextInfo ç±»å‹

```tsx
interface ContextInfo {
  title: string;                    // ä¸»æ ‡é¢˜
  subtitle?: string;                // å‰¯æ ‡é¢˜
  details: Array<{                  // è¯¦æƒ…åˆ—è¡¨
    label: string;                  // æ ‡ç­¾
    value: string;                  // å€¼
    icon?: string;                  // MDIå›¾æ ‡è·¯å¾„
  }>;
  avatar?: {                        // å¤´åƒé…ç½®
    text: string;                   // å¤´åƒæ–‡å­—
    color?: string;                 // å¤´åƒé¢œè‰²
  };
}
```

## æ ·å¼å®šåˆ¶

ç¼–è¾‘å™¨æ”¯æŒé€šè¿‡CSSå˜é‡è¿›è¡Œæ ·å¼å®šåˆ¶ï¼š

```css
:root {
  --color-primary: #009688;
  --color-background: #f6f6f6;
  --color-surface: #ffffff;
}

/* æ·±è‰²æ¨¡å¼ */
[data-theme="dark"] {
  --color-surface: #2d2d2d;
  --color-background: #1e1e1e;
  --color-text-primary: #ffffff;
}
```

## åä½œç¼–è¾‘

ç¼–è¾‘å™¨æ”¯æŒå®æ—¶åä½œç¼–è¾‘ï¼Œéœ€è¦é…ç½®SurrealDBï¼š

```tsx
// ç¡®ä¿SurrealDBè¿æ¥æ­£å¸¸
const collaborativeEditor = (
  <FullscreenRichTextEditor
    value={content}
    onChange={setContent}
    documentId="shared-document-123"
    userId="user-456"
    userName="å¼ ä¸‰"
    contextInfo={contextInfo}
  />
);
```

## æ³¨æ„äº‹é¡¹

1. **æ€§èƒ½ä¼˜åŒ–**ï¼šå¤§æ–‡æ¡£å»ºè®®å¯ç”¨åˆ†é¡µæˆ–è™šæ‹Ÿæ»šåŠ¨
2. **ç§»åŠ¨ç«¯é€‚é…**ï¼šåœ¨ç§»åŠ¨è®¾å¤‡ä¸Šï¼Œä¸Šä¸‹æ–‡é¢æ¿ä¼šè‡ªåŠ¨éšè—
3. **åä½œé™åˆ¶**ï¼šåŒæ—¶ç¼–è¾‘çš„ç”¨æˆ·å»ºè®®ä¸è¶…è¿‡10äºº
4. **æ–‡ä»¶ä¸Šä¼ **ï¼šç¡®ä¿MinIOæœåŠ¡æ­£å¸¸è¿è¡Œ
5. **ä¸»é¢˜é€‚é…**ï¼šç¼–è¾‘å™¨ä¼šè‡ªåŠ¨é€‚é…åº”ç”¨çš„æ·±è‰²/äº®è‰²ä¸»é¢˜

## æœ€ä½³å®è·µ

1. **è®¾ç½®åˆé€‚çš„æ–‡æ¡£ID**ï¼šä½¿ç”¨æœ‰æ„ä¹‰çš„æ–‡æ¡£æ ‡è¯†ç¬¦
2. **æä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯**ï¼šå¸®åŠ©ç”¨æˆ·ç†è§£ç¼–è¾‘å†…å®¹çš„èƒŒæ™¯
3. **å¤„ç†å…¨å±çŠ¶æ€**ï¼šåœ¨å…¨å±æ¨¡å¼ä¸‹éšè—ä¸å¿…è¦çš„UIå…ƒç´ 
4. **ä¿å­˜è‰ç¨¿**ï¼šå®šæœŸä¿å­˜ç”¨æˆ·è¾“å…¥ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±
5. **é”™è¯¯å¤„ç†**ï¼šå¦¥å–„å¤„ç†ç½‘ç»œé”™è¯¯å’Œä¸Šä¼ å¤±è´¥ 