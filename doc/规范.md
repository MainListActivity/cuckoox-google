# 基本规范
提交代码前必须先执行单元测试，确保单元测试和eslint能够正常通过，如果有问题，必须先解决单元测试的问题。

完成代码开发后在页面预览效果。

如果要运行单元测试，始终执行 `npm run test:run`

如果要运行某个具体的单元测试项，执行命令： 

```shell
npx vitest --run --testNamePattern="CaseListPage renders search field and filter button" tests/unit/pages/cases/index.test.tsx
```

# UI设计规格
1、需要考虑不同设备（android,ios,pc全屏, pc-600*800）的分辨率。
2、图标:引用在线矢量图标库内的图标
3、图片: 使用Unsplash开源图片网站链接的形式引入
4、支持深色模式和亮色模式，默认深色，支持在右上角切换模式
5、左侧菜单栏采用重点色突出显示；顶部AppBar保持和主页颜色相同，核心原则是AppBar需要与用户浏览的主视图融为一体，不需要突出展示，重点在于凸显菜单栏

# 编码规范
surrealdb的使用文档参考代码仓库: `https://github.com/Odonno/surrealdb-presence-demo/tree/main`

1. 所有代码需要根据功能模块编写单元测试，并执行单元测试代码(运行 `npm run test:run --testNamePattern="xxxx具体的单元测试用例" xxx.tsx具体的单元测试文件`)
2. 目录结构使用reactjs官方推荐的结构
3. 使用MUI7作为UI组件
4. 如果要使用`Grid`组件，使用语法如下
```typescript
import {
  Grid,
} from '@mui/material';
<Grid container spacing={2}>
  <Grid size={8}>
    <Item>size=8</Item>
  </Grid>
  <Grid size={8}>
    <Item>size=8</Item>
  </Grid>
</Grid>
```
5. 提交代码前*必须* 执行eslint检查代码语法(`npx eslint xxx.tsx`)，并确保eslint检查通过。
6. 文档编辑器`Quill`必须按照如下语法实现

```javasrcipt
import React, { forwardRef, useEffect, useLayoutEffect, useRef } from 'react';

// Editor is an uncontrolled React component
const Editor = forwardRef(
  ({ readOnly, defaultValue, onTextChange, onSelectionChange }, ref) => {
    const containerRef = useRef(null);
    const defaultValueRef = useRef(defaultValue);
    const onTextChangeRef = useRef(onTextChange);
    const onSelectionChangeRef = useRef(onSelectionChange);

    useLayoutEffect(() => {
      onTextChangeRef.current = onTextChange;
      onSelectionChangeRef.current = onSelectionChange;
    });

    useEffect(() => {
      ref.current?.enable(!readOnly);
    }, [ref, readOnly]);

    useEffect(() => {
      const container = containerRef.current;
      const editorContainer = container.appendChild(
        container.ownerDocument.createElement('div'),
      );
      const quill = new Quill(editorContainer, {
        theme: 'snow',
      });

      ref.current = quill;

      if (defaultValueRef.current) {
        quill.setContents(defaultValueRef.current);
      }

      quill.on(Quill.events.TEXT_CHANGE, (...args) => {
        onTextChangeRef.current?.(...args);
      });

      quill.on(Quill.events.SELECTION_CHANGE, (...args) => {
        onSelectionChangeRef.current?.(...args);
      });

      return () => {
        ref.current = null;
        container.innerHTML = '';
      };
    }, [ref]);

    return <div ref={containerRef}></div>;
  },
);

Editor.displayName = 'Editor';

export default Editor;
```
# 色彩
选用material color 的teal作为颜色族，主页面背景色使用 #f6f6f6

```shell
git config user.email '1025988443@qq.com'
git config user.name 'MainListActivity'
```
