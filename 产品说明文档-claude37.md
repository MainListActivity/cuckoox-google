# 破产案件管理系统产品说明书

## 1. 产品概述

### 1.1 产品定位
破产案件管理系统是一款专为破产案件管理人设计的综合性管理平台，旨在帮助破产案件管理人对案件的整体流程和全生命周期进行高效管理和分析。系统提供了直观的可视化dashboard、债权申报与审核、案件流程管理等核心功能，全面满足破产案件管理的专业需求。

### 1.2 产品价值
- **提升工作效率**：通过流程化、数字化管理，大幅提升破产案件处理效率
- **降低管理成本**：减少人工操作和纸质文档，降低管理成本
- **增强透明度**：实时数据可视化，提高案件处理透明度
- **规范操作流程**：按照《中华人民共和国企业破产法》规定，规范案件处理流程
- **提升协作效率**：多角色协同工作，提升团队协作效率

### 1.3 目标用户
- 破产案件管理人
- 债权人
- 法院相关人员
- 破产企业相关人员

## 2. 系统架构

### 2.1 技术架构
- 前端：Vue.js框架
- 后端：Quarkus提供的OIDC服务
- 数据库：SurrealDB
- 文件存储：支持S3协议的MinIO
- 实时通信：WebSocket

### 2.2 系统模块
1. 用户认证模块
2. 案件管理模块
3. 债权人管理模块
4. 债权申报模块
5. 债权审核模块
6. 在线会议模块
7. 消息中心模块
8. 数据可视化模块

## 3. 功能详细说明

### 3.1 用户登录

#### 3.1.1 功能描述
用户可通过多种方式登录系统，系统根据用户身份和权限自动导航至相应功能页面。

#### 3.1.2 详细流程
1. **登录方式**：
   - GitHub登录：通过后端提供的Quarkus OIDC服务进行GitHub账号登录
   - 管理员登录：admin=true参数时，可使用用户名和密码直接登录SurrealDB

2. **案件选择逻辑**：
   - 登录后检查URL是否包含案件编号（例如：cuckoox.cn/signin?case=xxx）
   - 如有案件编号，直接进入该案件
   - 如无案件编号且用户参与多个案件，则进入案件管理页面选择案件
   - 如用户之前已选择过案件，则使用上次选择的案件（从SurrealDB中读取记录）

3. **权限与菜单加载**：
   - 进入系统后查询用户在当前案件下的身份
   - 根据用户身份关联的菜单权限，渲染可操作的菜单列表
   - 自动选中并打开第一个可用菜单

#### 3.1.3 界面设计
- 登录页面：提供GitHub登录按钮，管理员模式下显示用户名密码输入框
- 案件选择页面：以卡片形式展示用户参与的所有案件，点击进入
- 菜单导航：左侧菜单栏，根据权限动态显示可用功能

### 3.2 消息中心

#### 3.2.1 功能描述
消息中心作为系统的统一通知入口，集成即时通讯消息和系统提醒功能。

#### 3.2.2 详细功能
1. **即时通讯**：
   - 支持用户之间的实时消息交流
   - 支持群组消息
   - 消息已读/未读状态显示
   - 消息历史记录查询

2. **系统提醒**：
   - 案件状态变更提醒
   - 债权申报与审核相关提醒
   - 会议通知
   - 截止日期提醒

#### 3.2.3 界面设计
- 消息列表：按时间倒序排列，未读消息高亮显示
- 消息分类：即时通讯/系统提醒分类查看
- 消息详情：点击消息可查看完整内容
- 消息设置：可配置接收提醒的方式和频率

### 3.3 在线会议

#### 3.3.1 功能描述
在线会议模块支持破产案件过程中的各类会议在线召开，包括债权人会议等法定会议。

#### 3.3.2 详细功能
1. **会议管理**：
   - 创建会议：设置会议主题、时间、参与人员
   - 会议列表：展示当前案件的所有会议
   - 会议详情：查看会议具体信息

2. **会议记录**：
   - 会议纪要编辑与保存
   - 会议录音/录像存档
   - 会议材料上传与下载

3. **会议通知**：
   - 自动向参会人员发送会议通知
   - 会议提醒（开始前15分钟）
   - 会议变更通知

#### 3.3.3 界面设计
- 会议列表页：展示会议时间、主题、状态（未开始/进行中/已结束）
- 会议详情页：显示会议详细信息、参会人员、会议材料
- 会议记录页：会议纪要编辑器，支持富文本编辑

### 3.4 债权申报数据大屏

#### 3.4.1 功能描述
债权申报数据大屏通过可视化方式实时展示债权申报和审核的全局情况，为管理人提供直观的数据洞察。

#### 3.4.2 详细功能
1. **实时数据监控**：
   - 通过SurrealDB的实时消息功能监控债权申报和审核的变化
   - 监控用户登录状态（根据用户身份分类显示）
   - 监控债权申请、审核状态变更

2. **数据统计与展示**：
   - 债权金额统计：
     * 申请总金额
     * 已审批总金额
     * 待审总金额
   - 债权笔数统计：
     * 申请总笔数
     * 已审批总笔数
     * 待审总笔数
   - 债权人数量统计
   - 审核通过率统计

3. **趋势分析**：
   - 债权申报时间分布图
   - 债权金额区间分布图
   - 债权类型占比图

#### 3.4.3 界面设计
- 整体布局：分区块展示不同类别数据
- 数据可视化：使用图表、仪表盘等形式展示数据
- 实时更新：数据变化时动态刷新
- 交互功能：支持钻取、筛选等高级分析功能

### 3.5 债权人管理

#### 3.5.1 功能描述
债权人管理模块用于管理破产案件中的债权人信息，支持债权人信息的添加、编辑、查询和导出。

#### 3.5.2 详细功能
1. **债权人信息管理**：
   - 添加单个债权人：录入债权人基本信息
   - 批量导入债权人：通过Excel等格式批量导入
   - 编辑债权人信息：修改已有债权人信息
   - 删除债权人：移除错误添加的债权人

2. **债权人信息字段**：
   - 基本信息：名称/姓名、类别（组织/个人）、ID（统一社会信用代码/身份证号）
   - 联系信息：联系人姓名、联系电话、电子邮箱、通讯地址
   - 银行信息：开户行、账号
   - 备注信息

3. **快递单打印**：
   - 选择债权人批量打印快递单号
   - 支持自定义快递模板
   - 打印历史记录

#### 3.5.3 界面设计
- 债权人列表：表格形式展示债权人信息，支持排序、筛选
- 添加/编辑表单：分组展示债权人各类信息
- 批量操作：选择多个债权人进行批量操作
- 快递单打印：选择债权人后生成快递单预览，确认后打印

### 3.6 债权申报

#### 3.6.1 功能描述
债权申报模块允许债权人在系统中提交债权申报材料，系统记录申报信息并流转至审核环节。

#### 3.6.2 详细功能
1. **债权信息录入**：
   - 债权性质选择
   - 债权金额录入：本金、利息、其他费用
   - 债权总额自动计算（本金+利息+其他）
   - 债权形成原因说明

2. **附件材料管理**：
   - 富文本编辑器（QuillJS）支持文字说明
   - 图片上传与预览
   - 文件上传（支持多种格式）
   - 材料实时保存

3. **申报流程**：
   - 保存草稿：随时保存当前编辑内容
   - 提交申请：完成所有必填项后提交审核
   - 修改申请：被驳回后可修改再次提交
   - 申报状态查询：查看当前申报状态

#### 3.6.3 界面设计
- 申报表单：分步骤引导用户完成申报
- 附件材料编辑器：富文本编辑区，支持拖拽上传文件
- 预览功能：提交前可预览全部申报内容
- 状态显示：清晰展示当前申报状态

### 3.7 债权审核

#### 3.7.1 功能描述
债权审核模块供管理人对债权申报进行审核，确认或调整债权信息，并记录审核过程。

#### 3.7.2 详细功能
1. **债权列表管理**：
   - 列表展示：展示所有待审核、已审核的债权
   - 筛选功能：按状态、债权人、金额等条件筛选
   - 全文检索：支持关键字搜索债权信息
   - 排序功能：按提交时间、金额等排序

2. **债权详情展示**：
   - 债权基本信息：债权人信息、申报金额、债权性质等
   - 申报材料查看：查看债权人提交的所有材料
   - 历史审核记录：查看之前的审核意见和结果

3. **审核操作**：
   - 审核认定：确认债权性质、本金、利息、其他费用
   - 添加评论：对申报材料的特定部分添加评论
   - 状态变更：设置审核状态（通过/驳回/部分通过等）
   - 批量操作：支持批量驳回等操作

#### 3.7.3 界面设计
- 债权列表页：表格形式展示债权信息，支持筛选、排序
- 审核详情页：左侧固定展示主张债权信息，右侧展示申请材料
- 评论功能：可对材料中的段落或文字/图片添加评论
- 审核表单：浮动窗口输入审核意见和结果

### 3.8 案件管理

#### 3.8.1 功能描述
案件管理模块是系统的核心，用于管理破产案件的全生命周期，包括案件创建、状态流转、材料管理等。

#### 3.8.2 详细功能
1. **案件基本信息管理**：
   - 案件创建：录入案件基本信息
   - 案件编辑：修改案件信息
   - 案件查询：按条件查询案件
   - 案件详情：查看案件完整信息

2. **案件程序流转**：
   - 状态管理：按照《中华人民共和国企业破产法》规定的程序流转
   - 时间节点记录：记录各个程序节点的时间
   - 自动提醒：根据法定时限自动提醒相关操作
   - 状态变更：手动变更案件状态，记录变更原因

3. **案件材料管理**：
   - 立案材料：上传、编辑立案相关材料
   - 公告材料：管理破产公告相关材料
   - 重整计划：上传、编辑重整计划
   - 会议纪要：记录债权人会议等会议内容

4. **案件提醒**：
   - 自动创建案件机器人账号
   - 根据案件状态发送提醒消息
   - 按照预设规则和频率发送提醒

#### 3.8.3 界面设计
- 案件列表页：表格形式展示案件信息，支持筛选、排序
- 案件详情页：左侧固定展示案件基本信息和时间点信息，右侧展示材料详情
- 状态流转图：可视化展示案件当前状态和流转路径
- 时间轴：展示案件各个时间节点

## 4. 用户角色与权限

### 4.1 系统角色
1. **系统管理员（Admin）**：
   - 拥有系统最高权限
   - 可配置身份和菜单权限
   - 可直接登录SurrealDB

2. **案件管理人**：
   - 管理案件全流程
   - 审核债权申报
   - 组织债权人会议

3. **债权人**：
   - 申报债权
   - 查看债权审核状态
   - 参与债权人会议

4. **案件观察者**：
   - 查看案件信息
   - 无修改权限

### 4.2 权限控制
1. **身份权限控制**：
   - 由Admin账号在身份管理中配置
   - 控制用户可访问的菜单和功能

2. **案件程序权限控制**：
   - 根据案件当前程序阶段控制可用功能
   - 特定功能仅在特定阶段可用

3. **数据权限控制**：
   - 债权人仅能查看自己的债权信息
   - 管理人可查看所有债权信息

## 5. 系统集成

### 5.1 外部系统集成
1. **GitHub认证系统**：
   - 通过OIDC协议集成GitHub登录

2. **快递系统集成**：
   - 支持快递单号生成和打印

3. **短信通知系统**：
   - 支持重要节点短信提醒

### 5.2 数据导入导出
1. **Excel导入导出**：
   - 支持债权人信息批量导入
   - 支持债权数据导出

2. **PDF生成**：
   - 支持生成债权申报表
   - 支持生成审核报告

## 6. 非功能需求

### 6.1 性能需求
- 系统响应时间：页面加载时间<3秒
- 并发用户数：支持100人同时在线
- 数据处理能力：单案件支持处理10000条债权记录

### 6.2 安全需求
- 用户认证：支持多因素认证
- 数据加密：敏感数据加密存储
- 操作日志：记录关键操作日志
- 权限控制：严格的角色权限控制

### 6.3 可用性需求
- 系统可用性：99.9%
- 数据备份：每日自动备份
- 故障恢复：支持快速故障恢复

## 7. 产品路线图

### 7.1 第一阶段（基础版）
- 用户登录
- 案件管理基础功能
- 债权申报与审核
- 基础数据大屏

### 7.2 第二阶段（标准版）
- 在线会议功能
- 消息中心完善
- 高级数据分析
- 批量处理优化

### 7.3 第三阶段（高级版）
- AI辅助审核
- 移动端适配
- 多语言支持
- 第三方系统深度集成

## 8. 附录

### 8.1 术语表
- **破产管理人**：由人民法院指定的负责管理债务人财产和事务的机构或者人员
- **债权申报**：债权人向破产管理人申报其对债务人享有的债权的过程
- **债权审核**：破产管理人对债权人申报的债权进行审查确认的过程
- **重整计划**：为挽救债务人企业，对债务人的债权债务和经营活动等进行调整的计划

### 8.2 法律依据
- 《中华人民共和国企业破产法》
- 最高人民法院关于适用《中华人民共和国企业破产法》若干问题的规定
